{"version":"61500","data":{"id":"a2422446-9482-4e46-aabe-4ab6b04648b9","offsetX":208.84289896277818,"offsetY":33.96823549961988,"zoom":101.66666666666667,"gridSize":15,"layers":[{"id":"8e7465b3-db8e-44d9-bca9-62e5c75c2b28","type":"diagram-links","isSvg":true,"transformed":true,"models":{"4d78bc43-35a7-41e1-9490-55613796aad5":{"id":"4d78bc43-35a7-41e1-9490-55613796aad5","locked":true,"type":"onetomany","source":"d19ee605-926b-4685-8cd4-ccc98807cb14","sourcePort":"d41a45d7-4c77-4840-81a1-8ae896d69258","target":"62c4b2bc-7042-4eed-ba1c-56487caaca60","targetPort":"b9659c7f-c04b-467a-b95a-1ea90e46d7c4","points":[{"id":"68bf3ca0-b7ab-41f5-a2e7-f36e5c26369f","type":"point","x":317.4999865959098,"y":389.9999957720184},{"id":"21218478-4d94-457a-bffe-b620cc33bb19","type":"point","x":317.4999865959098,"y":645.0000257893084},{"id":"abcc5b91-b614-47c7-ad16-d91ba3f8eee4","type":"point","x":204.9999865959098,"y":645.0000257893084}],"labels":[],"width":1,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)","data":{"local_table_uid":"62c4b2bc-7042-4eed-ba1c-56487caaca60","local_column_attnum":1,"referenced_table_uid":"d19ee605-926b-4685-8cd4-ccc98807cb14","referenced_column_attnum":0}},"297e2bd6-0d03-4dab-be08-51aa659b89d2":{"id":"297e2bd6-0d03-4dab-be08-51aa659b89d2","locked":true,"type":"onetomany","source":"707aec7d-46fc-47f4-8a5a-26616c2d0ae0","sourcePort":"bd6da215-7a26-4d07-96c6-4a7f0843108a","target":"62c4b2bc-7042-4eed-ba1c-56487caaca60","targetPort":"7301f457-2c44-4c50-8aa4-32c4a904e382","points":[{"id":"da5bf973-80a2-49f8-8bae-0b6d5db94f98","type":"point","x":368.7499765901465,"y":96.99999777317103},{"id":"e7507003-eac3-4072-b8a6-7988576410d9","type":"point","x":368.7499765901465,"y":211},{"id":"590e11d6-5601-4271-b891-769d71f8e25e","type":"point","x":82.5,"y":351},{"id":"5a97d14a-3aa6-4c76-93fb-b1d056d3f13c","type":"point","x":82.5,"y":620.0000057777818},{"id":"26f887e7-959c-44a8-9e2a-85102de8add0","type":"point","x":204.9999865959098,"y":620.0000057777818}],"labels":[],"width":1,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)","data":{"local_table_uid":"62c4b2bc-7042-4eed-ba1c-56487caaca60","local_column_attnum":0,"referenced_table_uid":"707aec7d-46fc-47f4-8a5a-26616c2d0ae0","referenced_column_attnum":0}},"5add1b27-7190-4a46-9693-e6a73546c9fe":{"id":"5add1b27-7190-4a46-9693-e6a73546c9fe","locked":true,"type":"onetomany","source":"707aec7d-46fc-47f4-8a5a-26616c2d0ae0","sourcePort":"bd6da215-7a26-4d07-96c6-4a7f0843108a","target":"8a7d80ae-8497-4970-9532-dcd2b49011b6","targetPort":"f05033ad-d8ee-4eba-867d-32e940adcef2","points":[{"id":"d152068b-efae-449d-be14-9dd22ef5b92f","type":"point","x":368.7499765901465,"y":96.99999777317103},{"id":"7e403fb8-1930-489e-a6e7-38dd12610506","type":"point","x":368.7499765901465,"y":352.99999377086573},{"id":"635c1c9b-a12a-49f0-b74a-8bef2e426dfa","type":"point","x":542.5000166131997,"y":352.99999377086573}],"labels":[],"width":1,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)","data":{"local_table_uid":"8a7d80ae-8497-4970-9532-dcd2b49011b6","local_column_attnum":1,"referenced_table_uid":"707aec7d-46fc-47f4-8a5a-26616c2d0ae0","referenced_column_attnum":0}},"29123c90-d25a-42a5-b771-d0ca70b7d8ab":{"id":"29123c90-d25a-42a5-b771-d0ca70b7d8ab","locked":true,"type":"onetomany","source":"8a7d80ae-8497-4970-9532-dcd2b49011b6","sourcePort":"9182647e-8370-4c9f-aabf-d0f5976e078f","target":"de443df6-acb0-4fbd-9ef0-6e509f86e9ce","targetPort":"26c57b81-f71c-492b-bd9a-24e110691901","points":[{"id":"5597ee2d-a63e-4822-b795-360bdad2892a","type":"point","x":542.5000166131997,"y":328.00000377662906},{"id":"30820f75-658c-44fe-97f5-0e39d652b69c","type":"point","x":529.9999765901465,"y":491},{"id":"42a9bc68-18fa-49cc-8934-0328869d8a97","type":"point","x":529.9999765901465,"y":677.0000177846978}],"labels":[],"width":1,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)","data":{"local_table_uid":"de443df6-acb0-4fbd-9ef0-6e509f86e9ce","local_column_attnum":0,"referenced_table_uid":"8a7d80ae-8497-4970-9532-dcd2b49011b6","referenced_column_attnum":0}},"18e93745-d958-49ba-8c5d-9e43fc38f0b7":{"id":"18e93745-d958-49ba-8c5d-9e43fc38f0b7","locked":true,"type":"onetomany","source":"d19ee605-926b-4685-8cd4-ccc98807cb14","sourcePort":"d41a45d7-4c77-4840-81a1-8ae896d69258","target":"de443df6-acb0-4fbd-9ef0-6e509f86e9ce","targetPort":"9fe64718-bdf3-48cc-adee-74a9da5bd8f8","points":[{"id":"a6ed5cc3-4250-483d-8dd3-60a3c6aa9e14","type":"point","x":317.4999865959098,"y":389.9999957720184},{"id":"62574335-faaf-438b-8311-dfd82d7603bc","type":"point","x":317.4999865959098,"y":701.9999777616445},{"id":"c13cafae-4baa-4c39-9bc7-f7ec19845357","type":"point","x":529.9999765901465,"y":701.9999777616445}],"labels":[],"width":1,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)","data":{"local_table_uid":"de443df6-acb0-4fbd-9ef0-6e509f86e9ce","local_column_attnum":1,"referenced_table_uid":"d19ee605-926b-4685-8cd4-ccc98807cb14","referenced_column_attnum":0}}}},{"id":"f2cb3cac-7834-43e5-986a-7c59ff63ed4b","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"707aec7d-46fc-47f4-8a5a-26616c2d0ae0":{"id":"707aec7d-46fc-47f4-8a5a-26616c2d0ae0","type":"table","selected":false,"x":168.75,"y":5,"ports":[{"id":"bd6da215-7a26-4d07-96c6-4a7f0843108a","type":"onetomany","x":338.7499765901465,"y":96.99999777317103,"name":"coll-port-0","alignment":"right","parentNode":"707aec7d-46fc-47f4-8a5a-26616c2d0ae0","links":["297e2bd6-0d03-4dab-be08-51aa659b89d2","5add1b27-7190-4a46-9693-e6a73546c9fe"],"subtype":"one"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["bd6da215-7a26-4d07-96c6-4a7f0843108a"],"otherInfo":{"data":{"name":"account","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[{"columns":[{"column":"account_id","cid":"c461"}],"include":[],"cid":"c460"}],"foreign_key":[],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"account_id","is_primary_key":true,"attnum":0,"cltype":"serial","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c462"},{"name":"email","is_primary_key":false,"attnum":1,"cltype":"text","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c463"},{"name":"ethereum_address","is_primary_key":false,"attnum":2,"cltype":"text","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c464"},{"name":"next_nonce","is_primary_key":false,"attnum":3,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"defval":"0","attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c465"}],"schema":"public","unique_constraint":[{"columns":[{"column":"email","cid":"c467"}],"include":[],"cid":"c466"},{"columns":[{"column":"ethereum_address","cid":"c469"}],"include":[],"cid":"c468"}]},"note":"","metadata":{"data_failed":false,"is_promise":false,"fillColor":null,"textColor":null}}},"62c4b2bc-7042-4eed-ba1c-56487caaca60":{"id":"62c4b2bc-7042-4eed-ba1c-56487caaca60","type":"table","selected":false,"x":5,"y":528,"ports":[{"id":"b9659c7f-c04b-467a-b95a-1ea90e46d7c4","type":"onetomany","x":174.9999865959098,"y":645.0000257893084,"name":"coll-port-1","alignment":"right","parentNode":"62c4b2bc-7042-4eed-ba1c-56487caaca60","links":["4d78bc43-35a7-41e1-9490-55613796aad5"],"subtype":"many"},{"id":"7301f457-2c44-4c50-8aa4-32c4a904e382","type":"onetomany","x":174.9999865959098,"y":620.0000057777818,"name":"coll-port-0","alignment":"right","parentNode":"62c4b2bc-7042-4eed-ba1c-56487caaca60","links":["297e2bd6-0d03-4dab-be08-51aa659b89d2"],"subtype":"many"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["b9659c7f-c04b-467a-b95a-1ea90e46d7c4","7301f457-2c44-4c50-8aa4-32c4a904e382"],"otherInfo":{"data":{"name":"token_balance","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[{"columns":[{"column":"account_id","cid":"c306"},{"column":"token_id","cid":"c307"}],"include":[],"cid":"c305"}],"foreign_key":[{"confmatchtype":false,"autoindex":false,"columns":[{"local_column":"token_id","referenced":"token_id","references":"d19ee605-926b-4685-8cd4-ccc98807cb14","references_table_name":"(public) token","cid":"c309"}],"confupdtype":"a","confdeltype":"a","cid":"c308"},{"confmatchtype":false,"autoindex":false,"columns":[{"local_column":"account_id","referenced":"account_id","references":"707aec7d-46fc-47f4-8a5a-26616c2d0ae0","references_table_name":"account","cid":"c311"}],"confupdtype":"a","confdeltype":"a","cid":"c310"}],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"account_id","is_primary_key":true,"attnum":0,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c312"},{"name":"token_id","is_primary_key":true,"attnum":1,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c313"},{"name":"amount","is_primary_key":false,"attnum":2,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c316"}],"schema":"public"},"note":"","metadata":{"data_failed":false,"is_promise":false,"fillColor":null,"textColor":null}}},"d19ee605-926b-4685-8cd4-ccc98807cb14":{"id":"d19ee605-926b-4685-8cd4-ccc98807cb14","type":"table","selected":false,"x":117.5,"y":298,"ports":[{"id":"d41a45d7-4c77-4840-81a1-8ae896d69258","type":"onetomany","x":287.4999865959098,"y":389.9999957720184,"name":"coll-port-0","alignment":"right","parentNode":"d19ee605-926b-4685-8cd4-ccc98807cb14","links":["4d78bc43-35a7-41e1-9490-55613796aad5","18e93745-d958-49ba-8c5d-9e43fc38f0b7"],"subtype":"one"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["d41a45d7-4c77-4840-81a1-8ae896d69258"],"otherInfo":{"data":{"columns":[{"name":"token_id","is_primary_key":true,"attnum":0,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c155"}],"name":"token","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[{"columns":[{"column":"token_id"}],"include":[]}],"foreign_key":[],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"schema":"public"},"note":"","metadata":{"data_failed":false,"is_promise":false,"fillColor":null,"textColor":null}}},"8a7d80ae-8497-4970-9532-dcd2b49011b6":{"id":"8a7d80ae-8497-4970-9532-dcd2b49011b6","type":"table","selected":true,"x":342.5,"y":236,"ports":[{"id":"f05033ad-d8ee-4eba-867d-32e940adcef2","type":"onetomany","x":512.5000166131997,"y":352.99999377086573,"name":"coll-port-1","alignment":"right","parentNode":"8a7d80ae-8497-4970-9532-dcd2b49011b6","links":["5add1b27-7190-4a46-9693-e6a73546c9fe"],"subtype":"many"},{"id":"9182647e-8370-4c9f-aabf-d0f5976e078f","type":"onetomany","x":512.5000166131997,"y":328.00000377662906,"name":"coll-port-0","alignment":"right","parentNode":"8a7d80ae-8497-4970-9532-dcd2b49011b6","links":["29123c90-d25a-42a5-b771-d0ca70b7d8ab"],"subtype":"one"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["f05033ad-d8ee-4eba-867d-32e940adcef2","9182647e-8370-4c9f-aabf-d0f5976e078f"],"otherInfo":{"data":{"name":"transaction","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[{"columns":[{"column":"transaction_id","cid":"c1028"}],"include":[],"cid":"c1027"}],"foreign_key":[{"confmatchtype":false,"autoindex":false,"columns":[{"local_column":"account_id","referenced":"account_id","references":"707aec7d-46fc-47f4-8a5a-26616c2d0ae0","references_table_name":"account","cid":"c1030"}],"confupdtype":"a","confdeltype":"a","cid":"c1029"}],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"transaction_id","is_primary_key":true,"attnum":0,"cltype":"serial","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c1031"},{"name":"account_id","is_primary_key":false,"attnum":1,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c1032"},{"name":"valid_till","is_primary_key":false,"attnum":2,"cltype":"smallint","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c1033"},{"name":"nonce","is_primary_key":false,"attnum":3,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c1034"},{"name":"created_on","is_primary_key":false,"attnum":4,"cltype":"timestamp with time zone","attlen":"0","attprecision":null,"collspcname":null,"defval":"current_timestamp","attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c1035","min_val_attlen":0,"max_val_attlen":6},{"name":"redeemed_on","is_primary_key":false,"attnum":5,"cltype":"timestamp with time zone","attlen":"0","attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c1036","min_val_attlen":0,"max_val_attlen":6},{"name":"is_pending","is_primary_key":false,"attnum":6,"cltype":"boolean","attlen":null,"attprecision":null,"collspcname":null,"defval":"true","attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c1037"},{"name":"is_confirmed","is_primary_key":false,"attnum":7,"cltype":"boolean","attlen":null,"attprecision":null,"collspcname":null,"defval":"false","attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c1038"}],"schema":"public","unique_constraint":[{"columns":[{"column":"account_id","cid":"c1040"},{"column":"nonce","cid":"c1041"}],"include":[],"cid":"c1039"}]},"note":"","metadata":{"data_failed":false,"is_promise":false,"fillColor":null,"textColor":null}}},"de443df6-acb0-4fbd-9ef0-6e509f86e9ce":{"id":"de443df6-acb0-4fbd-9ef0-6e509f86e9ce","type":"table","selected":false,"x":330,"y":585,"ports":[{"id":"26c57b81-f71c-492b-bd9a-24e110691901","type":"onetomany","x":499.9999765901465,"y":677.0000177846978,"name":"coll-port-0","alignment":"right","parentNode":"de443df6-acb0-4fbd-9ef0-6e509f86e9ce","links":["29123c90-d25a-42a5-b771-d0ca70b7d8ab"],"subtype":"many"},{"id":"9fe64718-bdf3-48cc-adee-74a9da5bd8f8","type":"onetomany","x":499.9999765901465,"y":701.9999777616445,"name":"coll-port-1","alignment":"right","parentNode":"de443df6-acb0-4fbd-9ef0-6e509f86e9ce","links":["18e93745-d958-49ba-8c5d-9e43fc38f0b7"],"subtype":"many"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["26c57b81-f71c-492b-bd9a-24e110691901","9fe64718-bdf3-48cc-adee-74a9da5bd8f8"],"otherInfo":{"data":{"name":"transaction_token","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[{"columns":[{"column":"transaction_id","cid":"c885"},{"column":"token_id","cid":"c886"}],"include":[],"cid":"c884"}],"foreign_key":[{"confmatchtype":false,"autoindex":false,"columns":[{"local_column":"transaction_id","referenced":"transaction_id","references":"8a7d80ae-8497-4970-9532-dcd2b49011b6","references_table_name":"transaction","cid":"c888"}],"confupdtype":"a","confdeltype":"a","cid":"c887"},{"confmatchtype":false,"autoindex":false,"columns":[{"local_column":"token_id","referenced":"token_id","references":"d19ee605-926b-4685-8cd4-ccc98807cb14","references_table_name":"(public) token","cid":"c890"}],"confupdtype":"a","confdeltype":"a","cid":"c889"}],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"transaction_id","is_primary_key":true,"attnum":0,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c891"},{"name":"token_id","is_primary_key":true,"attnum":1,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c892"},{"name":"amount","is_primary_key":false,"attnum":2,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":true,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c893"}],"schema":"public"},"note":"","metadata":{"data_failed":false,"is_promise":false,"fillColor":null,"textColor":null}}}}}]}}